I"
<p><img src="{{ site.url }}/assets/images/post/tutor.jpg" alt="polling_php" /></p>

<h1 id="hai-coders">hai coders!…</h1>
<p>bagaimana keadaanya semua, ditengah <strong>pandemi</strong> yang sedang melanda ini,<br />
semoga kita semua selalu dalam lindungan allah, dan selalu di berikan nikmat sehat dan nikmat waktu luang untuk menjaga kesehatan.</p>

<p>baiklah, kali ini saya mau iseng-iseng sedikit (..”iseng ko sedikit”) … lanjut.<br />
iseng-iseng saya kali ini adalah membuat system polling sederhana yang sangat simple dan sederhana dengan php dan database mysql.</p>

<p>langsung ajah yuk , kita mulai coding ….</p>
<h1 id="pertama">pertama</h1>
<p>kita siapkan dulu database untuk menampung value pollingnya…<br />
masuk ke terminal atau cmd di windows, akses root ke aplikasi database nya disini saya menggunakan mysql
<em>terminal</em></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysql -u root -p
#masukan password root login anda
#lanjut buat database

create database polling;
use polling;

create table polling ( id int(11) primary key auto_increment, framework varchar(100) not null, value int(11) yes null );
describe polling;
</code></pre></div></div>
<p><img src="{{ site.url }}/assets/images/post/tutor_mysql.jpg" alt="polling_php" /><br />
databse telah selesai dibuat, lanjut coding program nya yuk ah ….</p>

<h1 id="kedua">kedua</h1>
<p>siapkan directory di htdoc webserver kalian bebas untuk memberikan nama direktorinya.
kemudian buat file baru di direktori kalian,<br />
1 index.php
2 function.php<br />
file utama kita adalah index.php, sedangkan file function.php berperan sebagai file action untuk program systemnya.<br />
susunan file nya, direktori nya saya beri nama tutor_polling :<br />
<img src="{{ site.url }}/assets/images/post/tutor_direktori.jpg" alt="polling_php" /></p>

<h1 id="buka-file-indexphp">buka file index.php</h1>
<p><em>kemudian copy code di bawah ini</em></p>

<p>{%highlight php%}
&lt;?php 
require_once ‘function.php’;</p>

<p>headernya(“Halaman Utama”);</p>

<p>$query = query(“SELECT * FROM polling”); //fungsi ini berada di file function.php untuk mengambil data dari table database.</p>

<p>if(isset($_POST[‘submit’])):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if(polling($_POST) &gt; 0): //jalankan fungsi polling , check apakah ada penambahan data di table polling	
	header('Location: index.php');
else:
	echo "
			&lt;script&gt;alert('anda belum mengisi polling');
			document.location.href='index.php';
			&lt;/script&gt;
			";
endif;
</code></pre></div></div>

<p>endif;
?&gt;</p>

<div class="jumbotron jumbotron-fluid">
  <div class="container justify-content-center">
    <h1 class="display-4">Polling Framework PHP</h1>
    <p class="lead">Framework PHP apa yang sedang trend sekarang ini, <br /> <smal class="blockquote-footer">mari kita lakukan polling</smal>.</p>
  </div>
</div>

<div class="container">
	<div class="row">
		<div class="col-6">
		<p class="lead">Which one is Best PHP Framework</p>
      <hr />
			<form action="" method="post">
				<?php foreach($query as $row): ?> <!-- ambil data dari fungsi query kemudian looping -->
				<div class="form-group ml-4">
				  <input class="form-check-input" type="radio" name="id" id="&lt;?=$row['framework']?&gt;" value="&lt;?=$row['id']?&gt;" />
				  <label class="form-check-label" for="&lt;?=$row['framework']?&gt;">
				    <?=$row['framework']?>
				  </label>
				</div>
				<?php endforeach; ?>
				<div class="form-group ml-auto">
					<button type="submit" name="submit" class="btn btn-outline-success btn-block">Polling</button>
				</div>
			</form>
		</div>

		<div class="col-6">
				<p class="lead">Persentase Polling Framework PHP Terbaik</p>
      		<hr />

      		<div class="row">
      			<div class="col-2">
      				<?php foreach($query as $row): ?>
      					<div class="mb-3">
      						<?php echo $row['framework'] ?>
      					</div>
      				<?php endforeach; ?>
      			</div>

      				<div class="col-10">
      					<?php foreach($query as $row): ?>
			      		<div class="progress mt-1 mb-4">
			  				<div class="progress-bar &lt;?php if($row['value'] &lt; 15 ): echo 'bg-info'; 
			  				elseif($row['value'] &gt; 15): echo 'bg-success'; elseif($row['value'] &gt; 25): echo 'bg-warning'; elseif($row['value'] &gt; 50): echo 'bg-danger'; endif; ?&gt;" role="progressbar" style="width: &lt;?=$row['value']?&gt;%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"><?=$row['value']?>%
			  				</div>
						</div>
						<?php endforeach; ?>	
      				</div>
      		</div><!-- row percentage -->
		</div><!--col-6 percentage-->

	</div>
</div>

<?php footer(); ?>
<p>{%endhighlight%}</p>

<h1 id="lanjut-buka-file-functionphp">lanjut buka file function.php</h1>
<p><em>copy code di bawah ini</em></p>

<p>{%highlight php%}
&lt;?php</p>

<p>$conn = mysqli_connect(“localhost”, “root”, “”, “tutorial_polling”);</p>

<p>if(!$conn) die(mysqli_connect_error());</p>

<p>function headernya($title){
	echo ‘&lt;!doctype html&gt;</p>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />

    <title>'.$title.'</title>
  </head>
  <body>';
}

function footer(){
	echo '  <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>
</html>
<p>’;
}</p>

<p>function query($query){
  global $conn; //mengambil variable conn untuk melakukan connecti ke database, karena variable conn berada di luar fungsi
  $result = mysqli_query($conn, $query);</p>

<p>$rows = []; //siapkan array kosong untuk menampung nilai variable dari value yang di kirim form input melalui method post
	//lakukan looping untuk mengurai data di table polling 
  while($row = mysqli_fetch_assoc($result)):
    $rows[] = $row;
  endwhile;</p>

<p>return $rows;
}</p>

<p>function polling($data){
  global $conn;
    $id = $data[‘id’];
	//karena system polling ini berjalan melalui query update, lakukan update dan lakukan penambahan setiap tombol submit di click maka value akan bertambah 1 nilai jadi ( value+1 ) seperti itu seterusnya
    $query = “UPDATE polling SET 
                value=value+1 WHERE id = $id
            “;
    mysqli_query($conn, $query);
    return mysqli_affected_rows($conn);
}
{%endhighlight%}</p>

<p>untuk demo nya bisa download di repository di bawah ini :<br />
<a href="https://github.com/codesyariah122/system_polling.git">System Polling </a></p>

<p>ok di setiap file di atas sudah saya beri sedikit penjelasan, mudah-mudahan bisa di mengerti yaa. mudah ko prinsip kerjanya sangat sederhana.</p>

<p>ok selamat mencoba.</p>

:ET